<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>

<body>

<div wicket:id="notifier"></div>
<div wicket:id="popupContainer">
    <div wicket:id="content"></div>
</div>

<div class="wrapper flex-column">

    <div wicket:id="menuPanel"></div>

    <div class="ui grid flex-1 workflow">
        <div class="vertical-left-menu">
            <a class="left-nav-item verticalItem active" wicket:id="servicesToggle">Services</a>
            <a class="left-nav-item verticalItem active" wicket:id="datasetsToggle">Datasets</a>
        </div>

        <div class="column flex-column-2 left-column">
            <div wicket:id="datasets" class="ui segment child-1 datasetsPanel" style="overflow-y: auto;"></div>
            <div wicket:id="services" class="ui segment child-1 servicesPanel" style="overflow-y: auto;"></div>
        </div>

        <div class="column flex-column-1 right-column">
            <div wicket:id="plumbContainer" id="plumbContainer" class="plumbContainer ui segment">
                <div wicket:id="canvasItem" class="canvas-item">
                    <div wicket:id="item"></div>
                </div>
                <div class="ui popup canvasItemPopup"></div>
            </div>

            <div wicket:id="jobs" class="ui segment child-1 jobsPanel"></div>

            <div wicket:id="visualizers" class="ui segment child-1 visualizersPanel"></div>
        </div>

        <div class="vertical-right-menu">
            <a class="right-nav-item verticalItem active" wicket:id="canvasToggle">Canvas</a>
            <a class="right-nav-item verticalItem active" wicket:id="jobsToggle">Jobs</a>
            <a class="right-nav-item verticalItem active" wicket:id="visualizersToggle">Visualizers</a>
        </div>

    </div>
    <div class="push"></div>
</div>

<div wicket:id="footerPanel"></div>

<script>
var $allCards = $('.card');
            $allCards.each(function(){
                this.addEventListener("dragenter", handleDataItemsBoxDragEnter, false);
                this.addEventListener("dragleave", handleDragLeave, false);
                this.addEventListener("dragover", preventDefaultEventHandling, false);
                this.addEventListener("drop", dropOntoDataItem, false);
            });

            var dragging = 0;

            function handleDataItemsBoxDragEnter(event) {
                        dragging++;
                        this.classList.add('over');
                        event.stopPropagation();
                        event.preventDefault();
                        return false;
                    }

            function preventDefaultEventHandling(event) {
                    this.classList.add('over');
                    event.stopPropagation();
                    event.preventDefault() ;
                    return false;
             }

            function handleDragLeave(event) {
                        dragging--;
                        console.log(dragging);
                        if (dragging === 0) {
                            this.classList.remove('over');
                        }
                        event.stopPropagation();
                        event.preventDefault();
                        return false;
                    }

             function dropOntoDataItem(event) {
                        dragging--;
                        event.stopPropagation();
                        console.log('drop');
                        event.preventDefault();
                        this.classList.remove('over');
                        return false;
                       }
</script>

</body>
</html>